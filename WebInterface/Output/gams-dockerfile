FROM ubuntu:16.04

# Set GAMS version (for instance 24.8.3)
ENV GAMS_VERSION=1.0

# Set GAMS bit architecture, either 'x64_64' or 'x86_32'
ENV GAMS_BIT_ARC=x64_64

# Set path to GAMS license 
ENV GAMS_LICENSE=#GAMS_LICENSE#

# Copy GAMS license 
# No licence file found or entered!

# Install wget 
RUN apt-get update && apt-get install -y --no-install-recommends wget 

# Download and install GAMS 
RUN wget -q -c --no-check-certificate https://d37drm4t2jghv5.cloudfront.net/distributions/${GAMS_VERSION}/linux/linux_${GAMS_BIT_ARC}_sfx.exe -O /opt/gams/gams.exe &&\ 
    cd /opt/gams &&\
    chmod +x gams.exe &&\
    ./gams.exe &&\ 
    rm -rf gams.exe 

# Configure GAMS 
RUN GAMS_PATH=$(dirname $(find / -name gams -type f -executable -print)) &&\ 
    echo "export PATH=\${PATH}:${GAMS_PATH}" >> ~/.bashrc &&\
    mv /opt/gams/gamslice.txt ${GAMS_PATH}/gamslice.txt &&\
    cd ${GAMS_PATH} &&\
    ./gamsinst -a 

CMD ["/bin/bash"] 

